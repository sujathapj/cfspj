<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>ColdFusion, English documentation : Deploying ColdFusion Applications</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ColdFusion, English documentation : Deploying ColdFusion Applications
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Sep 01, 2014 by <font color="#0050B2">charlie@carehart.org</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p>Adobe ColdFusion includes archive and deployment options that let you package applications and create archive files.</p><p><span class="confluence-anchor-link" id="DeployingColdFusionApplications-backtotop"></span></p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1427966369253 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1427966369253 ul {margin-left: 0px;padding-left: 10px;}
div.rbtoc1427966369253 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1427966369253'>
<ul>
    <li><a href='#DeployingColdFusionApplications-Archiveanddeploymentoptions'>Archive and deployment options</a></li>
    <li><a href='#DeployingColdFusionApplications-PackagingapplicationsinCARfiles'>Packaging applications in CAR files</a></li>
    <li><a href='#DeployingColdFusionApplications-PackagingapplicationsinJ2EEarchivefiles'>Packaging applications in J2EE archive files</a></li>
<ul>
    <li><a href='#DeployingColdFusionApplications-Applicationpackaging'>Application packaging</a></li>
<ul>
    <li><a href='#DeployingColdFusionApplications-Addanewarchivedefinitionandcreateanarchivefile'>Add a new archive definition and create an archive file</a></li>
</ul>
    <li><a href='#DeployingColdFusionApplications-Deploymentconsiderations'>Deployment considerations</a></li>
    <li><a href='#DeployingColdFusionApplications-Post-deploymentconsiderations'>Post-deployment considerations</a></li>
</ul>
    <li><a href='#DeployingColdFusionApplications-Usingthecfcompileutility'>Using the cfcompile utility</a></li>
<ul>
    <li><a href='#DeployingColdFusionApplications-PrecompilingColdFusionpages'>Precompiling ColdFusion pages</a></li>
    <li><a href='#DeployingColdFusionApplications-Sourcelessdistribution'>Sourceless distribution</a></li>
</ul>
</ul></div></p><hr /><p><strong><em><a href="Deploying%2BColdFusion%2BApplications.html">#back to top</a></em></strong></p><h2 id="DeployingColdFusionApplications-Archiveanddeploymentoptions">Archive and deployment options</h2><p>ColdFusion includes the following archive and deployment options.</p><ul><li><strong>ColdFusion archive files</strong> You can package your ColdFusion application's pages, data sources, and settings in a ColdFusion Archive (CAR) file. For more information, see <a href="#DeployingColdFusionApplications-PackagingapplicationsinCARfiles" rel="nofollow">Packaging applications in CAR files</a>.</li><li><strong>J2EE archives</strong> You can package your ColdFusion application as an Enterprise Application Archive (EAR) or Web Application Archive (WAR) file for easy deployment to a J2EE application server. For more information, see <a href="#DeployingColdFusionApplications-PackagingapplicationsinJ2EEarchivefiles" rel="nofollow">Packaging applications in J2EE archive files</a>.</li><li><strong>Cfcompile utility</strong> The <code>cfcompile</code> utility lets you precompile the ColdFusion pages of your application, into Java class files. In addition, you can compile ColdFusion pages to bytecode and save this bytecode in files with the CFM, CFC, or CFR extension. For more information, see <a href="#DeployingColdFusionApplications-Usingthecfcompileutility" rel="nofollow">Using the cfcompile utility</a>.<hr /><strong><em><a href="Deploying%2BColdFusion%2BApplications.html">#back to top</a></em></strong></li></ul><h2 id="DeployingColdFusionApplications-PackagingapplicationsinCARfiles">Packaging applications in CAR files</h2><p>CAR files let you archive and deploy website configuration information, files, and applications. Use this feature to deploy your website applications to another location or to back up your files quickly and easily. You can manage CAR files using the Packaging &amp; Deployment &gt; ColdFusion Archives area of the ColdFusion Administrator.<br /> You can migrate code from ColdFusion 8 and ColdFusion 9 to ColdFusion 10</p><div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.png" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Note</b><br /><p>CAR file archiving and deployment is different from J2EE archiving and packaging through EAR and WAR files.</p></td></tr></table></div><p>Perform the following steps when you archive and deploy site information:</p><ol><li>Create the archive definition. Identify the type of information to archive about a site. You can archive almost anything about the site, including directories, files, CFX tags, ColdFusion mappings, Solr collections, automated tasks, and server settings. Each archive definition that you create is assigned a name. You use this name each time you build or deploy its content.</li><li>Build the archive.Select the name of the archive definition and specify a location to which you store the CAR file.</li><li><p>Deploy the archive.Specify the location of the CAR file and the location to which you restore the contents.</p><div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.png" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Note</b><br /><p>ColdFusion_ does not deploy Administrator and RDS passwords, nor does it unpack archives created in earlier versions of ColdFusion._</p></td></tr></table></div><p>For more information on creating, building, and deploying CAR files, see ColdFusion Administrator online Help.</p><hr /><p><strong><em><a href="Deploying%2BColdFusion%2BApplications.html">#back to top</a></em></strong></p></li></ol><h2 id="DeployingColdFusionApplications-PackagingapplicationsinJ2EEarchivefiles">Packaging applications in J2EE archive files</h2><p>When running ColdFusion in the J2EE configuration, you deploy the ColdFusion application, in enterprise application archive (EAR) or web application archive (WAR) format, on a J2EE application server. You then create your ColdFusion application, configuring resources (such as data sources), and storing CFM, CFC, and CFR files in the web application root or in the web server root. In earlier ColdFusion versions, your J2EE administrator had to redo each of these steps when deploying your ColdFusion application onto a production J2EE server.<br /> The ColdFusion Administrator lets you create an EAR or WAR file that contains the entire application. This archive file contains the ColdFusion web application, settings for ColdFusion (such as data source definitions), and the CFM, CFC, and CFR files that your application uses.</p><h3 id="DeployingColdFusionApplications-Applicationpackaging">Application packaging</h3><p>The J2EE Archive feature lets you quickly create an archive file that a J2EE administrator can use to deploy your ColdFusion application.</p><h4 id="DeployingColdFusionApplications-Addanewarchivedefinitionandcreateanarchivefile">Add a new archive definition and create an archive file</h4><ol><li>Open the ColdFusion Administrator.</li><li>Specify a unique name for the archive file (no extension) in the Archive Name field.</li><li>Click Add. The Add New Archive screen appears.</li><li>Specify archive settings on the Add New Archive screen.</li><li>Click Create. ColdFusion creates an EAR or WAR file in the specified application distribution directory.<br /> The following table describes the settings you make when creating or modifying an archive:</li></ol><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Setting</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p>Archive Type</p></td><td class="confluenceTd"><p>Select EAR or WAR.</p></td></tr><tr><td class="confluenceTd"><p>Context Root (EAR only)</p></td><td class="confluenceTd"><p>Each J2EE web application running in a server is rooted at a unique base URL, called a context root (or context path). The J2EE application server uses the initial portion of the URL (that is, the portion immediately following</p><a class="external-link" href="http://hostname" rel="nofollow">http://hostname</a><p>) to determine which web application services an incoming request.For example, if you are running ColdFusion with a context root of <em>cfmx</em>, you display the Administrator using the URL</p>http://_hostname_/cfmx/CFIDE/administrator/index.cfm<p>Most J2EE application servers allow one application in each server instance to use a forward slash <img class="emoticon emoticon-tick" src="s/en_GB/3295/19/_/images/icons/emoticons/check.png" data-emoticon-name="tick" alt="(tick)"/> for the context root. The Remote Development Services (RDS) web application is not required if you use a context root of /.</p></td></tr><tr><td class="confluenceTd"><p>Serial Number</p></td><td class="confluenceTd"><p>Specifies a ColdFusion Enterprise Edition serial number. If you do not specify a valid ColdFusion Enterprise Edition serial number when creating the archive file, it is deployed as an Enterprise Edition evaluation version, which reverts to the Developer Edition after 30 days.</p></td></tr><tr><td class="confluenceTd"><p>COM Support</p></td><td class="confluenceTd"><p>If your application doesn't use COM support, you can reduce the size of the archive file by omitting the supporting files.</p></td></tr><tr><td class="confluenceTd"><p>Debugging</p></td><td class="confluenceTd"><p>If the current ColdFusion server is running with debugging enabled, you can disable debugging in the application contained in the archive file.</p></td></tr><tr><td class="confluenceTd"><p>Include CFML Source</p></td><td class="confluenceTd"><p>You can optionally deploy Java bytecode instead of CFML source code. For more information, see <a href="#DeployingColdFusionApplications-Sourcelessdistribution" rel="nofollow">Sourceless distribution</a>.</p></td></tr><tr><td class="confluenceTd"><p>ColdFusion Administrator</p></td><td class="confluenceTd"><p>If your application does not require modification by using the ColdFusion Administrator, you can reduce archive size and reduce security issues by omitting the Administrator files.</p></td></tr><tr><td class="confluenceTd"><p>Data sources</p></td><td class="confluenceTd"><p>Specifies the data source definitions to include in the archive file.</p></td></tr></tbody></table></div><h3 id="DeployingColdFusionApplications-Deploymentconsiderations">Deployment considerations</h3><p>After the archive file is created, you deploy by using standard ColdFusion J2EE configuration deployment techniques. For more information, see Installing an EAR file or WAR files in <a href="https://wikidocs.adobe.com/wiki/display/coldfusionen/Installing+the+JEE+Configuration">Installing the JEE Configuration</a> of <em>Installing ColdFusion</em>.</p><h3 id="DeployingColdFusionApplications-Post-deploymentconsiderations">Post-deployment considerations</h3><p>Depending on your application, the resources that it uses, and the environment in which it is deployed, you may need to perform post-deployment configuration, as follows:</p><ul><li><strong>Mappings</strong> The ColdFusion mappings in the archived application refer to directories on the original computer. If those directories do not exist on the deployment computer, modify the ColdFusion mappings by using the ColdFusion Administrator or the Administrator API.</li><li><strong>Serial number</strong> J2EE deployment is a ColdFusion Enterprise feature. To upgrade to the Enterprise Edition, use the ColdFusion Administrator or the Administrator API to enter a serial number.For more information on the Administrator API, see <a href="#UsingtheColdFusionAdministrator-AdministratorAPI" rel="nofollow">Administrator API</a>.<hr /><strong><em><a href="Deploying%2BColdFusion%2BApplications.html">#back to top</a></em></strong></li></ul><h2 id="DeployingColdFusionApplications-Usingthecfcompileutility">Using the cfcompile utility</h2><p>You can use the <code>cfcompile</code> utility for the following purposes:</p><ul><li><strong>Precompiling ColdFusion pages</strong> Precompile your application's CFM pages into Java class files. At runtime, ColdFusion does not have to compile CFM pages.</li><li><strong>Sourceless distribution</strong> Create CFM pages as Java bytecode. You can deploy these CFM pages instead of CFML source code. The <code>cfcompile</code> utility is located in the <em>cf_root</em>/bin (server configuration) or <em>cf_webapp_root</em>/WEB-INF/cfusion/bin (J2EE configuration) directory.Before you can use the cfcompile utility in the J2EE configuration, set the CFUSION_HOME, J2EEJAR, and WEBINF variables in the cfcompile.sh/cfcompile.bat file.</li></ul><h3 id="DeployingColdFusionApplications-PrecompilingColdFusionpages">Precompiling ColdFusion pages</h3><p>You can use the <code>cfcompile</code> utility to precompile ColdFusion pages (CFM, CFC, and CFR files). This can enhance initial page loading time at runtime.<br /> Use the following command to compile ColdFusion pages into Java classes:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: actionscript; gutter: false" style="font-size:12px;">cfcompile webroot [directory-to-compile]
</pre>
</div></div><p>The following table describes these parameters:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Parameter</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p><em>webroot</em></p></td><td class="confluenceTd"><p>Fully qualified path to the web server root; for example, C:\Inetpub\wwwroot or C:\coldfusion10\cfusion\wwwroot.</p></td></tr><tr><td class="confluenceTd"><p><em>directory-to-compile</em></p></td><td class="confluenceTd"><p>Fully qualified path to the directory where the files to be compiled are located. This directory must be under the web root directory. If not specified, all ColdFusion templates in the web root directory are compiled.</p></td></tr></tbody></table></div><h3 id="DeployingColdFusionApplications-Sourcelessdistribution">Sourceless distribution</h3><p>You can use the <code>cfcompile</code> utility with the <code>deploy</code> option to create ColdFusion pages (CFM, CFC, and CFR files) that contain Java bytecode. You can then deploy the bytecode versions of the ColdFusion pages instead of the original CFML source code.<br /> Use the following command to compile CFML files into bytecode format that you can deploy instead of CFML source code:</p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: actionscript; gutter: false" style="font-size:12px;">cfcompile -deploy webroot directory-to-compile output-directory
</pre>
</div></div><p>The following table describes these parameters:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Parameter</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p><em>webroot</em></p></td><td class="confluenceTd"><p>Fully qualified path to the web server root; for example, C:\Inetpub\wwwroot or C:\coldfusion10\cfusion\wwwroot.</p></td></tr><tr><td class="confluenceTd"><p><em>directory-to-compile</em></p></td><td class="confluenceTd"><p>Fully qualified path to the directory where the files to be compiled are located. This directory must be under the web root directory. This is required for the <code>deploy</code> option.</p></td></tr><tr><td class="confluenceTd"><p><em>output-directory</em></p></td><td class="confluenceTd"><p>Fully qualified path to the directory to contain the compiled deployable files. This cannot be the same directory as the source directory.</p></td></tr></tbody></table></div><p>After you run the <code>cfcompile</code> utility, perform the following steps:</p><ol><li>Back up your original CFML files</li><li>Copy the generated bytecode CFML files to the original directory</li><li><p>Deploy the application.</p><div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.png" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><p>The J2EE Archive screen of the ColdFusion_ Administrator lets you create an EAR or WAR file that contains bytecode versions of your application's CFML files._</p></td></tr></table></div></li></ol>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" style="background: url(https://wikidocs.adobe.com/wiki/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Apr 02, 2015 02:19</small></p>
            </div>
        </div>     </body>
</html>
